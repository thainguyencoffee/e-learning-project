openapi: "3.1.0"
info:
  title: "e_learning_project API"
  description: "e_learning_project API"
  version: "1.0.0"
servers:
  - url: "https://e_learning_project"
paths:
  /orders:
    post:
      summary: "POST orders"
      operationId: "createOrder"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OrderRequestDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Order"
    get:
      summary: "GET orders"
      operationId: "myOrders"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Order"
  /orders/{id}:
    get:
      summary: "GET orders/{id}"
      operationId: "myOrderById"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Order"
  /orders/purchased-courses:
    get:
      summary: "GET orders/purchased-courses"
      operationId: "purchasedCourses"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "array"
                items:
                  type: "integer"
                  format: "int64"
  /users/count:
    get:
      summary: "GET users/count"
      operationId: "countUsersWithParams"
      parameters:
        - name: "lastName"
          in: "query"
          required: false
          schema:
            type: "string"
        - name: "firstName"
          in: "query"
          required: false
          schema:
            type: "string"
        - name: "email"
          in: "query"
          required: false
          schema:
            type: "string"
        - name: "username"
          in: "query"
          required: false
          schema:
            type: "string"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int32"
  /users/count/search:
    get:
      summary: "GET users/count/search"
      operationId: "countUsersWithSearch"
      parameters:
        - name: "search"
          in: "query"
          required: false
          schema:
            type: "string"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int32"
  /users/search:
    get:
      summary: "GET users/search"
      operationId: "searchUsersWithSearch"
      parameters:
        - name: "username"
          in: "query"
          required: true
          schema:
            type: "string"
        - name: "exact"
          in: "query"
          required: false
          schema:
            type: "boolean"
            default: "false"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/UserInfo"
  /me:
    get:
      summary: "GET me"
      operationId: "getMe"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/UserLoginInfo"
  /upload:
    post:
      summary: "POST upload"
      operationId: "upload"
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: "object"
              required:
                - "file"
              properties:
                file:
                  type: "string"
                  format: "binary"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/ObjectUrl"
    delete:
      summary: "DELETE upload"
      operationId: "deleteAll"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ObjectUrls"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "object"
  /published-courses:
    get:
      summary: "GET published-courses"
      operationId: "getAllPublishedCourses"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CourseWithoutSectionsDTO"
  /published-courses/{courseId}:
    get:
      summary: "GET published-courses/{courseId}"
      operationId: "getPublishedCourseById"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CourseWithoutSectionsDTO"
  /courses/{courseId}:
    put:
      summary: "PUT courses/{courseId}"
      operationId: "updateCourse"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CourseUpdateDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
    delete:
      summary: "DELETE courses/{courseId}"
      operationId: "deleteCourse"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "force"
          in: "query"
          required: false
          schema:
            type: "boolean"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    get:
      summary: "GET courses/{courseId}"
      operationId: "getCourseById"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/requests/{requestId}/approve:
    put:
      summary: "PUT courses/{courseId}/requests/{requestId}/approve"
      operationId: "approvePublish"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "requestId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CourseRequestApproveDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/requests/{requestId}/reject:
    put:
      summary: "PUT courses/{courseId}/requests/{requestId}/reject"
      operationId: "rejectPublish"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "requestId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CourseRequestRejectDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/update-price:
    put:
      summary: "PUT courses/{courseId}/update-price"
      operationId: "changePrice"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdatePriceDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/assign-teacher:
    put:
      summary: "PUT courses/{courseId}/assign-teacher"
      operationId: "assignTeacher"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AssignTeacherDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/sections/{sectionId}:
    put:
      summary: "PUT courses/{courseId}/sections/{sectionId}"
      operationId: "updateSectionInfo"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "sectionId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateSectionDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    delete:
      summary: "DELETE courses/{courseId}/sections/{sectionId}"
      operationId: "deleteSection"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "sectionId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses/{courseId}/sections/{sectionId}/lessons/{lessonId}:
    put:
      summary: "PUT courses/{courseId}/sections/{sectionId}/lessons/{lessonId}"
      operationId: "updateLesson"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "sectionId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "lessonId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LessonDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    delete:
      summary: "DELETE courses/{courseId}/sections/{sectionId}/lessons/{lessonId}"
      operationId: "deleteLesson"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "sectionId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "lessonId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses:
    post:
      summary: "POST courses"
      operationId: "createCourse"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CourseDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
    get:
      summary: "GET courses"
      operationId: "getAllCourses"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/restore:
    post:
      summary: "POST courses/{courseId}/restore"
      operationId: "restoreCourse"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses/{courseId}/requests:
    post:
      summary: "POST courses/{courseId}/requests"
      operationId: "requestPublish"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CourseRequestDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /courses/{courseId}/sections:
    post:
      summary: "POST courses/{courseId}/sections"
      operationId: "addSection"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CourseSectionDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int64"
  /courses/{courseId}/sections/{sectionId}/lessons:
    post:
      summary: "POST courses/{courseId}/sections/{sectionId}/lessons"
      operationId: "addLesson"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "sectionId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LessonDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int64"
  /courses/trash:
    get:
      summary: "GET courses/trash"
      operationId: "getTrashedCourses"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Course"
  /payments:
    post:
      summary: "POST payments"
      operationId: "payment"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentRequest"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Payment"
  /payments/orders/{orderId}:
    get:
      summary: "GET payments/orders/{orderId}"
      operationId: "getPaymentByMyOrderId"
      parameters:
        - name: "orderId"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Payment"
  /discounts/{id}:
    put:
      summary: "PUT discounts/{id}"
      operationId: "updateDiscount"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DiscountDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Discount"
    delete:
      summary: "DELETE discounts/{id}"
      operationId: "deleteDiscount"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "force"
          in: "query"
          required: false
          schema:
            type: "boolean"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    get:
      summary: "GET discounts/{id}"
      operationId: "getDiscountById"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Discount"
  /discounts/calculate:
    post:
      summary: "POST discounts/calculate"
      operationId: "calculateDiscountByCode"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CalculateDiscountRequest"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/MonetaryAmount"
  /discounts:
    post:
      summary: "POST discounts"
      operationId: "createDiscount"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DiscountDTO"
        required: true
      responses:
        "201":
          description: "Created"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Discount"
    get:
      summary: "GET discounts"
      operationId: "getAllDiscounts"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Discount"
  /discounts/{id}/restore:
    post:
      summary: "POST discounts/{id}/restore"
      operationId: "restoreDiscount"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /discounts/code/{code}:
    get:
      summary: "GET discounts/code/{code}"
      operationId: "getDiscountByCode"
      parameters:
        - name: "code"
          in: "path"
          required: true
          schema:
            type: "string"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Discount"
  /discounts/trash:
    get:
      summary: "GET discounts/trash"
      operationId: "getDeletedDiscounts"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Discount"
  /enrollments/{enrollmentId}/lessons/{lessonId}:
    put:
      summary: "PUT enrollments/{enrollmentId}/lessons/{lessonId}"
      operationId: "markLessonAsCompleted"
      parameters:
        - name: "enrollmentId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "lessonId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "mark"
          in: "query"
          required: true
          schema:
            type: "string"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /enrollments:
    get:
      summary: "GET enrollments"
      operationId: "getAllEnrollments"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CourseEnrollmentDTO"
  /enrollments/{enrollmentId}:
    get:
      summary: "GET enrollments/{enrollmentId}"
      operationId: "getEnrollmentById"
      parameters:
        - name: "enrollmentId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CourseEnrollment"
  /enrollments/count:
    get:
      summary: "GET enrollments/count"
      operationId: "countEnrolmentsByCourseId"
      parameters:
        - name: "courseId"
          in: "query"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int32"
  /enrollments/course/{courseId}:
    get:
      summary: "GET enrollments/course/{courseId}"
      operationId: "getEnrolmentByCourseId"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CourseEnrollment"
  /enrollments/{enrollmentId}/content:
    get:
      summary: "GET enrollments/{enrollmentId}/content"
      operationId: "getContentByEnrollmentId"
      parameters:
        - name: "enrollmentId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/EnrolmentWithCourseDTO"
  /courses/{courseId}/posts/{postId}:
    put:
      summary: "PUT courses/{courseId}/posts/{postId}"
      operationId: "updatePost"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CoursePostDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    delete:
      summary: "DELETE courses/{courseId}/posts/{postId}"
      operationId: "deletePost"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "force"
          in: "query"
          required: false
          schema:
            type: "boolean"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    get:
      summary: "GET courses/{courseId}/posts/{postId}"
      operationId: "getPost"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Post"
  /courses/{courseId}/posts/{postId}/comments/{commentId}:
    put:
      summary: "PUT courses/{courseId}/posts/{postId}/comments/{commentId}"
      operationId: "updateComment"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "commentId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
    delete:
      summary: "DELETE courses/{courseId}/posts/{postId}/comments/{commentId}"
      operationId: "deleteComment"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "commentId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses/{courseId}/posts:
    post:
      summary: "POST courses/{courseId}/posts"
      operationId: "createPost"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CoursePostDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int64"
    get:
      summary: "GET courses/{courseId}/posts"
      operationId: "getAllPosts"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Post"
  /courses/{courseId}/posts/{postId}/restore:
    post:
      summary: "POST courses/{courseId}/posts/{postId}/restore"
      operationId: "restorePost"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses/{courseId}/posts/{postId}/comments:
    post:
      summary: "POST courses/{courseId}/posts/{postId}/comments"
      operationId: "addComment"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentDTO"
        required: true
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                type: "integer"
                format: "int64"
    get:
      summary: "GET courses/{courseId}/posts/{postId}/comments"
      operationId: "getComments"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Comment"
  /courses/{courseId}/posts/{postId}/emotions:
    post:
      summary: "POST courses/{courseId}/posts/{postId}/emotions"
      operationId: "addEmotion"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses/{courseId}/posts/{postId}/emotions/{emotionId}:
    delete:
      summary: "DELETE courses/{courseId}/posts/{postId}/emotions/{emotionId}"
      operationId: "deleteEmotion"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "postId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
        - name: "emotionId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Void"
  /courses/{courseId}/posts/trash:
    get:
      summary: "GET courses/{courseId}/posts/trash"
      operationId: "getTrashedPost"
      parameters:
        - name: "courseId"
          in: "path"
          required: true
          schema:
            type: "integer"
            format: "int64"
      responses:
        "200":
          description: "OK"
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Post"
components:
  schemas:
    OrderItemDTO:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
    OrderRequestDTO:
      type: "object"
      properties:
        items:
          type: "array"
          items:
            $ref: "#/components/schemas/OrderItemDTO"
        discountCode:
          type: "string"
    MonetaryAmount:
      type: "object"
      properties: { }
    OrderItem:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        course:
          type: "integer"
          format: "int64"
        price:
          $ref: "#/components/schemas/MonetaryAmount"
    Instant:
      type: "object"
      properties: { }
    Order:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        items:
          type: "array"
          items:
            $ref: "#/components/schemas/OrderItem"
        orderDate:
          $ref: "#/components/schemas/Instant"
        totalPrice:
          $ref: "#/components/schemas/MonetaryAmount"
        discountedPrice:
          $ref: "#/components/schemas/MonetaryAmount"
        discountCode:
          type: "string"
        status:
          type: "string"
          enum:
            - "PENDING"
            - "PAID"
            - "CANCELLED"
        createdBy:
          type: "string"
        createdDate:
          $ref: "#/components/schemas/Instant"
        lastModifiedBy:
          type: "string"
        lastModifiedDate:
          $ref: "#/components/schemas/Instant"
    UserInfo:
      type: "object"
      properties:
        firstName:
          type: "string"
        lastName:
          type: "string"
    UserLoginInfo:
      type: "object"
      properties:
        username:
          type: "string"
        email:
          type: "string"
        roles:
          type: "array"
          items:
            type: "string"
        exp:
          type: "integer"
          format: "int64"
    ObjectUrl:
      type: "object"
      properties:
        url:
          type: "string"
    ObjectUrls:
      type: "object"
      properties:
        urls:
          type: "array"
          items:
            type: "string"
    CourseWithoutSectionsDTO:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        title:
          type: "string"
        thumbnailUrl:
          type: "string"
        description:
          type: "string"
        language:
          type: "string"
          enum:
            - "ENGLISH"
            - "VIETNAMESE"
            - "JAPANESE"
            - "KOREAN"
            - "CHINESE"
            - "FRENCH"
            - "GERMAN"
            - "SPANISH"
        subtitles:
          type: "array"
          items:
            type: "string"
            enum:
              - "ENGLISH"
              - "VIETNAMESE"
              - "JAPANESE"
              - "KOREAN"
              - "CHINESE"
              - "FRENCH"
              - "GERMAN"
              - "SPANISH"
        benefits:
          type: "array"
          items:
            type: "string"
        prerequisites:
          type: "array"
          items:
            type: "string"
        price:
          $ref: "#/components/schemas/MonetaryAmount"
        teacher:
          type: "string"
    CourseUpdateDTO:
      type: "object"
      properties:
        title:
          type: "string"
        description:
          type: "string"
        thumbnailUrl:
          type: "string"
        benefits:
          type: "array"
          items:
            type: "string"
        prerequisites:
          type: "array"
          items:
            type: "string"
        subtitles:
          type: "array"
          items:
            type: "string"
            enum:
              - "ENGLISH"
              - "VIETNAMESE"
              - "JAPANESE"
              - "KOREAN"
              - "CHINESE"
              - "FRENCH"
              - "GERMAN"
              - "SPANISH"
    Lesson:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        title:
          type: "string"
        type:
          type: "string"
          enum:
            - "VIDEO"
            - "TEXT"
            - "QUIZ"
            - "ASSIGNMENT"
        link:
          type: "string"
        quiz:
          type: "integer"
          format: "int64"
        orderIndex:
          type: "integer"
          format: "int32"
    CourseSection:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        title:
          type: "string"
        lessons:
          type: "array"
          items:
            $ref: "#/components/schemas/Lesson"
        orderIndex:
          type: "integer"
          format: "int32"
    CourseRequest:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        type:
          type: "string"
          enum:
            - "PUBLISH"
            - "UNPUBLISH"
        status:
          type: "string"
          enum:
            - "PENDING"
            - "APPROVED"
            - "REJECTED"
        resolved:
          type: "boolean"
        resolvedBy:
          type: "string"
        requestedBy:
          type: "string"
        message:
          type: "string"
        rejectReason:
          type: "string"
        approveMessage:
          type: "string"
    Comment:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        content:
          type: "string"
        info:
          $ref: "#/components/schemas/UserInfo"
        attachmentUrls:
          type: "array"
          items:
            type: "string"
        createdDate:
          type: "string"
          format: "date-time"
        lastModifiedDate:
          type: "string"
          format: "date-time"
    Emotion:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        username:
          type: "string"
        createdDate:
          type: "string"
          format: "date-time"
    Post:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        content:
          type: "string"
        info:
          $ref: "#/components/schemas/UserInfo"
        attachmentUrls:
          type: "array"
          items:
            type: "string"
        comments:
          type: "array"
          items:
            $ref: "#/components/schemas/Comment"
        emotions:
          type: "array"
          items:
            $ref: "#/components/schemas/Emotion"
        createdDate:
          type: "string"
          format: "date-time"
        lastModifiedDate:
          type: "string"
          format: "date-time"
    Course:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        title:
          type: "string"
        thumbnailUrl:
          type: "string"
        description:
          type: "string"
        language:
          type: "string"
          enum:
            - "ENGLISH"
            - "VIETNAMESE"
            - "JAPANESE"
            - "KOREAN"
            - "CHINESE"
            - "FRENCH"
            - "GERMAN"
            - "SPANISH"
        subtitles:
          type: "array"
          items:
            type: "string"
            enum:
              - "ENGLISH"
              - "VIETNAMESE"
              - "JAPANESE"
              - "KOREAN"
              - "CHINESE"
              - "FRENCH"
              - "GERMAN"
              - "SPANISH"
        benefits:
          type: "array"
          items:
            type: "string"
        prerequisites:
          type: "array"
          items:
            type: "string"
        sections:
          type: "array"
          items:
            $ref: "#/components/schemas/CourseSection"
        price:
          $ref: "#/components/schemas/MonetaryAmount"
        published:
          type: "boolean"
        unpublished:
          type: "boolean"
        teacher:
          type: "string"
        approvedBy:
          type: "string"
        courseRequests:
          type: "array"
          items:
            $ref: "#/components/schemas/CourseRequest"
        posts:
          type: "array"
          items:
            $ref: "#/components/schemas/Post"
        version:
          type: "integer"
          format: "int32"
        createdBy:
          type: "string"
        createdDate:
          $ref: "#/components/schemas/Instant"
        lastModifiedBy:
          type: "string"
        lastModifiedDate:
          $ref: "#/components/schemas/Instant"
    CourseRequestApproveDTO:
      type: "object"
      properties:
        approveType:
          type: "string"
          enum:
            - "PUBLISH"
            - "UNPUBLISH"
        approveMessage:
          type: "string"
        approveBy:
          type: "string"
    CourseRequestRejectDTO:
      type: "object"
      properties:
        rejectType:
          type: "string"
          enum:
            - "PUBLISH"
            - "UNPUBLISH"
        rejectCause:
          type: "string"
        rejectBy:
          type: "string"
    UpdatePriceDTO:
      type: "object"
      properties:
        price:
          $ref: "#/components/schemas/MonetaryAmount"
    AssignTeacherDTO:
      type: "object"
      properties:
        teacher:
          type: "string"
    UpdateSectionDTO:
      type: "object"
      properties:
        title:
          type: "string"
    Void:
      type: "object"
      properties: { }
    LessonDTO:
      type: "object"
      properties:
        title:
          type: "string"
        type:
          type: "string"
          enum:
            - "VIDEO"
            - "TEXT"
            - "QUIZ"
            - "ASSIGNMENT"
        link:
          type: "string"
        quiz:
          type: "integer"
          format: "int64"
    CourseDTO:
      type: "object"
      properties:
        title:
          type: "string"
        description:
          type: "string"
        thumbnailUrl:
          type: "string"
        benefits:
          type: "array"
          items:
            type: "string"
        language:
          type: "string"
          enum:
            - "ENGLISH"
            - "VIETNAMESE"
            - "JAPANESE"
            - "KOREAN"
            - "CHINESE"
            - "FRENCH"
            - "GERMAN"
            - "SPANISH"
        prerequisites:
          type: "array"
          items:
            type: "string"
        subtitles:
          type: "array"
          items:
            type: "string"
            enum:
              - "ENGLISH"
              - "VIETNAMESE"
              - "JAPANESE"
              - "KOREAN"
              - "CHINESE"
              - "FRENCH"
              - "GERMAN"
              - "SPANISH"
    CourseRequestDTO:
      type: "object"
      properties:
        type:
          type: "string"
          enum:
            - "PUBLISH"
            - "UNPUBLISH"
        message:
          type: "string"
        requestedBy:
          type: "string"
    CourseSectionDTO:
      type: "object"
      properties:
        title:
          type: "string"
    PaymentRequest:
      type: "object"
      properties:
        orderId:
          type: "string"
          format: "uuid"
        amount:
          $ref: "#/components/schemas/MonetaryAmount"
        paymentMethod:
          type: "string"
          enum:
            - "PAYPAL"
            - "STRIPE"
        token:
          type: "string"
    Payment:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        orderId:
          type: "string"
          format: "uuid"
        amount:
          $ref: "#/components/schemas/MonetaryAmount"
        status:
          type: "string"
          enum:
            - "PENDING"
            - "PAID"
            - "FAILED"
        paymentDate:
          type: "string"
          format: "date-time"
        paymentMethod:
          type: "string"
          enum:
            - "PAYPAL"
            - "STRIPE"
        transactionId:
          type: "string"
        receiptUrl:
          type: "string"
    DiscountDTO:
      type: "object"
      properties:
        code:
          type: "string"
        type:
          type: "string"
          enum:
            - "PERCENTAGE"
            - "FIXED"
        percentage:
          type: "number"
          format: "double"
        fixedPrice:
          $ref: "#/components/schemas/MonetaryAmount"
        startDate:
          type: "string"
          format: "date-time"
        endDate:
          type: "string"
          format: "date-time"
        maxUsage:
          type: "integer"
          format: "int32"
    Discount:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        code:
          type: "string"
        type:
          type: "string"
          enum:
            - "PERCENTAGE"
            - "FIXED"
        percentage:
          type: "number"
          format: "double"
        fixedPrice:
          $ref: "#/components/schemas/MonetaryAmount"
        startDate:
          type: "string"
          format: "date-time"
        endDate:
          type: "string"
          format: "date-time"
        currentUsage:
          type: "integer"
          format: "int32"
        maxUsage:
          type: "integer"
          format: "int32"
        createdBy:
          type: "string"
        createdDate:
          $ref: "#/components/schemas/Instant"
        lastModifiedBy:
          type: "string"
        lastModifiedDate:
          $ref: "#/components/schemas/Instant"
    CalculateDiscountRequest:
      type: "object"
      properties:
        code:
          type: "string"
        price:
          $ref: "#/components/schemas/MonetaryAmount"
    CourseEnrollmentDTO:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        student:
          type: "string"
        courseId:
          type: "integer"
          format: "int64"
        title:
          type: "string"
        thumbnailUrl:
          type: "string"
        teacher:
          type: "string"
        enrollmentDate:
          $ref: "#/components/schemas/Instant"
        completed:
          type: "boolean"
    LessonProgress:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        lessonId:
          type: "integer"
          format: "int64"
        completed:
          type: "boolean"
        completedDate:
          $ref: "#/components/schemas/Instant"
    CourseEnrollment:
      type: "object"
      properties:
        id:
          type: "integer"
          format: "int64"
        student:
          type: "string"
        courseId:
          type: "integer"
          format: "int64"
        enrollmentDate:
          $ref: "#/components/schemas/Instant"
        lessonProgresses:
          type: "array"
          items:
            $ref: "#/components/schemas/LessonProgress"
        completed:
          type: "boolean"
        createdBy:
          type: "string"
        createdDate:
          $ref: "#/components/schemas/Instant"
        lastModifiedBy:
          type: "string"
        lastModifiedDate:
          $ref: "#/components/schemas/Instant"
    Progress:
      type: "object"
      properties:
        totalLessons:
          type: "integer"
          format: "int32"
        completedLessons:
          type: "integer"
          format: "int32"
    EnrolmentWithCourseDTO:
      type: "object"
      properties:
        courseId:
          type: "integer"
          format: "int64"
        title:
          type: "string"
        thumbnailUrl:
          type: "string"
        description:
          type: "string"
        language:
          type: "string"
          enum:
            - "ENGLISH"
            - "VIETNAMESE"
            - "JAPANESE"
            - "KOREAN"
            - "CHINESE"
            - "FRENCH"
            - "GERMAN"
            - "SPANISH"
        subtitles:
          type: "array"
          items:
            type: "string"
            enum:
              - "ENGLISH"
              - "VIETNAMESE"
              - "JAPANESE"
              - "KOREAN"
              - "CHINESE"
              - "FRENCH"
              - "GERMAN"
              - "SPANISH"
        benefits:
          type: "array"
          items:
            type: "string"
        prerequisites:
          type: "array"
          items:
            type: "string"
        sections:
          type: "array"
          items:
            $ref: "#/components/schemas/CourseSection"
        teacher:
          type: "string"
        enrollmentId:
          type: "integer"
          format: "int64"
        student:
          type: "string"
        lessonProgresses:
          type: "array"
          items:
            $ref: "#/components/schemas/LessonProgress"
        completed:
          type: "boolean"
        progress:
          $ref: "#/components/schemas/Progress"
    CoursePostDTO:
      type: "object"
      properties:
        content:
          type: "string"
        attachmentUrls:
          type: "array"
          items:
            type: "string"
    CommentDTO:
      type: "object"
      properties:
        content:
          type: "string"
        attachmentUrls:
          type: "array"
          items:
            type: "string"